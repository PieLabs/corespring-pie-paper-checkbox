<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-checkbox/paper-checkbox.html" />
<!-- 

  @demo demo/index.html
  @demo-two demo/styling-demo.html
-->

<dom-module id="corespring-pie-paper-checkbox">
  <template>
    <style>

      :host{
        --paper-checkbox-label-color: var(--corespring-checkbox-label-color);
      }

      .incorrect {
        border-color: var(--coresping-checkbox-incorrect-border-color, #ED831C);
      }
      
      .correct {
        border-color: var(--corespring-checkbox-correct-border-color, #12D34F);
      }
      
      .missing {
        border-color: var(--corespring-checkbox-missing-border-color, #F2E239);
      }
      
      paper-checkbox {
        margin-top: 2px;
        margin-bottom: 2px;
        padding: 4px;
        width: 400px;
        border-width: 1px;
        border-color: rgba(0, 0, 0, 0);
        border-style: solid;
      }
    </style>
    <div>
      <paper-checkbox value="{{model.value}}" checked="{{model.checked}}" on-change="_onChange" class="choice" class$="{{_getCheckboxClass(model.correct)}}"
        disabled="{{model.disabled}}">{{model.label}}</paper-checkbox>
    </div>
  </template>
</dom-module>
<script>
  Polymer({
    is: "corespring-pie-paper-checkbox",
    properties: {
      /**
       * Fired when a checkbox is checked/unchecked.
       * @event checkbox-change
       * 
       */
      /**
       * ```javascript
       * {
       *   label: '',
       *   value: '',
       *   checked: true|false
       *   correct: true|false
       *   disabled: true|false 
       * }
       * ```
       */
      model: {type: Object, notify: true}
    },
    _onChange: function(event){
      event.stopImmediatePropagation();
      this.fire('checkbox-change');
    },
    _getCheckboxClass: function(correct){
      //TODO: add missing support as per ev's comp
      if(typeof correct === 'boolean'){
        return correct ? 'correct' : 'incorrect';
      }
    }
  });
</script>